import{a as g,u as w}from"./api-client-1XAoszYe.js";import{_ as L,A as P}from"./LocaleSwitcher.vue_vue_type_script_setup_true_lang-pbUfsUN9.js";import{d as y,b as t,o as b,c as k,w as o,e,u as r,f as V,t as $,h as R,i as A,a as B,g as N,j as U,_ as j}from"./index-D2pX98g5.js";import"./base-url-qR72hEjy.js";const h={async getMe(){const c=await g.get("/user/me");return console.log(c.data),c.data},async getUserProfile(){return(await g.get("/user/profile")).data}},F={class:"pa-0 ml-2 text-h5"},K=y({__name:"Header",emits:["toggle-drawer"],setup(c,{emit:d}){const i=d,{data:a}=w({queryKey:["user/me"],queryFn:async()=>await h.getMe()}),{data:m}=w({queryKey:["user/profile"],queryFn:async()=>await h.getUserProfile()});return(u,n)=>{const _=t("v-app-bar-nav-icon"),s=t("v-img"),v=t("v-spacer"),f=t("v-app-bar");return b(),k(f,{color:"white",density:"compact"},{prepend:o(()=>[e(_,{onClick:n[0]||(n[0]=l=>i("toggle-drawer"))})]),default:o(()=>{var l,p;return[e(s,{src:((l=r(m))==null?void 0:l.image)??"","max-width":"32",height:"32",rounded:""},null,8,["src"]),V("div",F,$(((p=r(a))==null?void 0:p.school_name)??"Loading..."),1),e(v),e(L),e(s,{class:"mr-4","max-width":"30",src:r(P)},null,8,["src"])]}),_:1})}}}),M={class:"pa-4"},T=y({__name:"DashboardLayout",setup(c){const d=R(),i=A(),a=B(!0);function m(){console.log(a.value),a.value=!a.value}const u=()=>{U(),d.replace({path:"/login"})};return(n,_)=>{const s=t("v-list-item"),v=t("v-list"),f=t("v-btn"),l=t("v-navigation-drawer"),p=t("RouterView"),x=t("v-main"),C=t("v-layout"),D=t("v-app");return b(),k(D,null,{default:o(()=>[e(K,{onToggleDrawer:m}),e(C,{class:"rounded rounded-md"},{default:o(()=>[e(l,{modelValue:a.value,"onUpdate:modelValue":_[0]||(_[0]=q=>a.value=q),width:200,class:"pt-14"},{append:o(()=>[V("div",M,[e(f,{block:"",color:"red",variant:"tonal",onClick:u},{default:o(()=>[N($(n.$t("logout")),1)]),_:1})])]),default:o(()=>[e(v,null,{default:o(()=>[e(s,{"prepend-icon":"mdi mdi-table-of-contents",link:"",to:"/students",active:r(i).name=="students-view",title:n.$t("students")},null,8,["active","title"]),e(s,{"prepend-icon":"mdi mdi-table-of-contents",link:"",to:"/teachers",active:r(i).name=="teachers-view",title:n.$t("teachers")},null,8,["active","title"]),e(s,{"prepend-icon":"mdi mdi-table-of-contents",link:"",to:"/classes",active:r(i).name=="classes-view",title:n.$t("classes")},null,8,["active","title"])]),_:1})]),_:1},8,["modelValue"]),e(x,{class:"d-flex justify-center pt-14",style:{"min-height":"300px"}},{default:o(()=>[e(p)]),_:1})]),_:1})]),_:1})}}}),S=j(T,[["__scopeId","data-v-cfaab6ad"]]);export{S as default};
